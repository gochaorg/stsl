Введение в систему типов данных
===============================

Система типов используется в различных языках программирования 
и продуктов которые работают с метаинформацией.

Данный пакет представляет инструменты для описания типов данных 
и проверки допустимости выполнения операций на данными типами.

Сами типы данных нужны для гарантии отсутствия определенных ошибок программе / алгоритме.

Полное определение понятие типа данных будет дано не сразу, 
а по мере определения составляющих свойств этого понятия.

Качество - присвояемость/назначаемость (assignable).
----------------------------------------------

### Тезис 1 - необходимо различать тип переменной, чтоб случайно переменной которая была числом не присвоить строку

Пример 1.1 - JavaScript

    > node
    Welcome to Node.js v12.15.0.
    Type ".help" for more information.
    > function add1( a, b ){ return a+b; }
    undefined
    > add1( 10, 12 )
    22
    > add1( "10", "12" )
    '1012'

Пример 1.2 - Python

    > python
    Python 3.8.3 (default, Jul  2 2020, 16:21:59)
    [GCC 7.3.0] :: Anaconda, Inc. on linux
    Type "help", "copyright", "credits" or "license" for more information.
    >>> def add1( a, b ):
    ...     return a+b
    ...
    >>> add1( 10, 12 )
    22
    >>> add1( "10", "12" )
    '1012'

Оба примера выше демонстрируют одно и тоже общее свойство характерных 
для данных языков - функция add1 - **не различает типы аргументов**, 
на первый взгляд это может показаться нормальным. 

Второй момент может показаться, что для Python, что и для JavaScript
функция add1 - ведет себя одинаково, но это только операции +

Пример 1.3 - операции JavaScript

    > node
    Welcome to Node.js v12.15.0.
    Type ".help" for more information.
    > 'a' * 3
    NaN
    >  4 + '5'
    '45'
    >  4 - '5'
    -1

Пример 1.4 - операции Python

    >>> 'a' * 3
    'aaa'
    >>> 4 + '5'
    Traceback (most recent call last):
    File "<stdin>", line 1, in <module>
    TypeError: unsupported operand type(s) for +: 'int' and 'str'
    >>> 4 - '5'
    Traceback (most recent call last):
    File "<stdin>", line 1, in <module>
    TypeError: unsupported operand type(s) for -: 'int' and 'str'

Для других операций, поведение *,+,- отлично между JavaScript и Python

Можно сказать что, это особенность, 
но эта особенность накладывает серьезные ограничения -
**неожиданное поведение**

Например для JavaScript для операции +, когда один из операндов строка, 
результат всегда строка (судя по примеру выше), 
а для операции вычитания, когда один из операндов строка - 
тип результата уже другой нежели в первом случае (строка + число).

Это рассмотрены простые примеры неожиданного поведения.

### Решение 1 - run time check

Что бы их избежать, необходимо добавлять код проверки 
типов аргументов в функцию.

Другая особенность такого решения - пока функция не будет вызвана, 
нельзя быть на 100% что ей будут переданы аргументы с правильными 
типами данных.

Но по мере увеличения кодовой базы, знать какие типы данных допустимо 
передавать в ту или иную функцию - будет весьма накладно.

### Решение 2 - compile time check

Этого можно избежать, если на уровне языка/компилятора 
добавить проверку входящих и исходящих типов данных.

Тогда можно по формальным правилам, 
еще до начала исполнения программы доказать (или опровергнуть), 
что программа не содержит ошибок при работе с разными типами данных
и такое доказательство будет работать на 100%

### присвояемость/назначаемость

Допустимость передачи типов данных при вызове функций 
и присвоение результата вызова переменной - это свойство типа данных.

т.е. если у нас явно задекларировано что функция `add1(String,String):String`
работает со строками и возвращает строку, тогда:

  - при вызове `add1()` - допускается передача аргументов только типа данных String
  - вызов `add1()` - с другими типами данных - не допускается. 
    такую проверку способен выполнить компилятор еще до начала работы конечной программы.
  - и соответственно, результат `add1` можно передать в другой вызов `add1` 
    (например так `add1( add1("a", "b"), "c")` ) - такой вызов допускается компилятором,
    т.к. возвращаемый тип соответствует типу аргумента вызываемой функции.

**присвояемость/назначаемость** - 
это допустимость операции присвоения переменной (аргумент) значения определенного типа данных.

### Type

В пакете определен `trait Type` - который описывает, тот или иной тип данных.

```scala
trait Type extends Assignable with Extendable with Genericable
```

Свойство **присвояемость** так

```scala
trait Assignable {
  def assignable( t:Type ):Boolean
}
```